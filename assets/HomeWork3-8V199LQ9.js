import{o,c as n,a as t,F as v,b as y,e as C,t as a,f as b,w as k,g as w,r as m,h as g,i as $,v as V}from"./index-Dso0HPgI.js";const N={class:"col-md-4"},q={class:"list-group"},D=["onClick"],I={class:"d-flex w-100 justify-content-between"},A={class:"mb-1"},B={class:"mb-1"},E={__name:"menuView",props:["data"],emits:["emitAddCart"],setup(i,{emit:u}){const s=u,l=(c,_)=>{s("emitAddCart",c,_)};return(c,_)=>(o(),n("div",N,[t("div",q,[(o(!0),n(v,null,y(i.data,e=>(o(),n("a",{key:e.id,onClick:C(d=>l(e,e.id),["prevent"]),href:"#",class:"list-group-item list-group-item-action"},[t("div",I,[t("h5",A,a(e.name),1),t("small",null,"$"+a(e.price),1)]),t("p",B,a(e.description),1)],8,D))),128))])]))}},M={class:"card-body"},U={class:"card-title"},j=t("h5",null,"訂單",-1),F={class:"table"},Q=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),S={class:"text-end"},T={class:"text-end"},H={__name:"orderView",props:["order"],setup(i){return(u,s)=>(o(),n("div",M,[t("div",U,[j,t("table",F,[Q,t("tbody",null,[(o(!0),n(v,null,y(i.order.cart,l=>(o(),n("tr",{key:l.id},[t("td",null,a(l.name),1),t("td",null,a(l.quantity),1),t("td",null,a(l.price*l.quantity),1)]))),128))])]),t("div",S,[b("備註: "),t("span",null,a(i.order.remark||"無"),1)]),t("div",T,[t("h5",null,[b("總計: "),t("span",null,"$"+a(i.order.totalNum),1)])])])]))}},L=["onClick"],O=["onUpdate:modelValue"],W=["value"],z={__name:"cartView",props:["cart"],emits:["emitDelCart"],setup(i,{emit:u}){const s=u,l=c=>{s("emitDelCart",c)};return(c,_)=>(o(!0),n(v,null,y(i.cart,e=>(o(),n("tr",{key:e.id},[t("td",null,[t("button",{onClick:d=>l(e.id),type:"button",class:"btn btn-sm"},"x",8,L)]),t("td",null,a(e.name),1),t("td",null,[t("small",null,a(e.description),1)]),t("td",null,[k(t("select",{"onUpdate:modelValue":d=>e.quantity=d,class:"form-select"},[(o(),n(v,null,y(10,d=>t("option",{key:d,value:d},a(d),9,W)),64))],8,O),[[w,e.quantity]])]),t("td",null,a(e.price),1),t("td",null,a(e.price*e.quantity),1)]))),128))}},G={id:"root"},J={class:"container mt-5"},K={class:"row"},P={class:"col-md-8"},R={class:"table"},X=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),Y={key:0,class:"alert alert-primary",role:"alert"},Z={key:1},tt={class:"text-end mb-3"},et=t("hr",null,null,-1),st={class:"row justify-content-center"},lt={class:"col-8"},ot={key:0,class:"alert alert-info",role:"alert"},nt={key:1,class:"card"},ct={__name:"HomeWork3",setup(i){const u=m([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),s=m([]),l=m(""),c=m({cart:[],remark:"",totalNum:""}),_=g(()=>s.value.reduce((p,r)=>p+r.price*r.quantity,0)),e=(p,r)=>{s.value.findIndex(x=>x.id===r)===-1&&s.value.push({...p,quantity:1})},d=p=>{const r=s.value.findIndex(h=>h.id===p);console.log(r),s.value.splice(r,1)},f=()=>{c.value.cart=s.value,c.value.remark=l.value,c.value.totalNum=_.value,console.log(c.value),s.value=[],l.value=""};return(p,r)=>(o(),n("div",G,[t("div",J,[t("div",K,[$(E,{data:u.value,onEmitAddCart:e},null,8,["data"]),t("div",P,[t("table",R,[X,t("tbody",null,[$(z,{onEmitDelCart:d,cart:s.value},null,8,["cart"])])]),s.value.length===0?(o(),n("div",Y," 請選擇商品 ")):(o(),n("div",Z,[t("div",tt,[t("h5",null,[b("總計: "),t("span",null,a(_.value),1)])]),k(t("textarea",{"onUpdate:modelValue":r[0]||(r[0]=h=>l.value=h),class:"form-control mb-3",rows:"3",placeholder:"備註"},null,512),[[V,l.value]]),t("div",{class:"text-end"},[t("button",{onClick:f,class:"btn btn-primary"},"送出")])]))])]),et,t("div",st,[t("div",lt,[c.value.totalNum===""?(o(),n("div",ot," 尚未建立訂單 ")):(o(),n("div",nt,[$(H,{order:c.value},null,8,["order"])]))])])])]))}};export{ct as default};
